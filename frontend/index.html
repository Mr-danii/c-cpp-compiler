<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>CinCout</title>
    <!-- Google Fonts -->
    <link
      href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;700&family=Fira+Code:wght@400;700&display=swap"
      rel="stylesheet"
    />

    <!-- Font Awesome -->
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
      rel="stylesheet"
    />

    <!-- Favicon -->
    <link rel="icon" type="image/png" href="./assets/cincout.png" />

    <!-- Devicons -->
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/gh/devicons/devicon@v2.14.0/devicon.min.css"
    />
  </head>

  <body>
    <div class="container">
      <div class="header">
        <div>
          <h1 id="title-easter-egg">
            <i class="devicon-c-plain"></i>
            <i class="devicon-cplusplus-plain"></i> CinCout
          </h1>
          <div class="dropdown" id="learn-dropdown">
            <button id="learn-cpp-btn" class="header-btn dropdown-btn">
              <i class="fas fa-book"></i> Learn
              <i class="fas fa-chevron-down"></i>
            </button>
            <div class="dropdown-content" id="learn-dropdown-content">
              <a
                href="https://www.gnu.org/software/gnu-c-manual/gnu-c-manual.html"
                target="_blank"
              >
                <i class="fas fa-file-alt resource-icon"></i> GNU C Manual
              </a>
              <a
                href="https://sourceware.org/gdb/documentation/"
                target="_blank"
              >
                <i class="fas fa-bug resource-icon"></i> GDB Documentation
              </a>
              <a
                href="https://github.com/Pp3ng/My-bookshelf/raw/main/The%20C++%20Programming%20Language-4th.pdf"
                target="_blank"
              >
                <i class="fas fa-book-open resource-icon"></i> The C++
                Programming Language
              </a>
              <a href="https://en.cppreference.com/w/" target="_blank">
                <i class="fas fa-code resource-icon"></i> Cpp Reference
              </a>
              <a href="https://hackingcpp.com/" target="_blank">
                <i class="fas fa-laptop-code resource-icon"></i> Hacking Cpp
              </a>
            </div>
          </div>
          <div id="shortcuts-panel" class="shortcuts-panel dropdown">
            <button id="toggle-shortcuts" class="header-btn dropdown-btn">
              <i class="fas fa-keyboard"></i> Shortcuts
              <i class="fas fa-chevron-down"></i>
            </button>
            <div
              class="shortcuts-content dropdown-content"
              id="shortcuts-content"
            >
              <!-- Shortcuts will be dynamically generated by JavaScript -->
            </div>
          </div>
        </div>
        <div
          style="
            display: flex;
            gap: var(--spacing-sm);
            align-items: center;
            height: auto;
            flex-wrap: wrap;
            min-width: 0;
          "
        >
          <select id="language">
            <option value="c">C</option>
            <option value="cpp">C++</option>
          </select>
          <select id="compiler">
            <option value="gcc">GCC</option>
            <option value="clang">Clang</option>
          </select>

          <select id="optimization">
            <option value="-O0">-O0 (No optimization)</option>
            <option value="-O1">-O1 (Basic optimization)</option>
            <option value="-O2">-O2 (Moderate optimization)</option>
            <option value="-O3">-O3 (Maximum optimization)</option>
            <option value="-Os">-Os (Size optimization)</option>
          </select>

          <select id="template"></select>
          <select id="theme-select">
            <!-- Theme options will be dynamically generated by script -->
          </select>
          <div class="toggle-container">
            <a href="https://www.vim.org" target="_blank">
              <img
                src="https://cdn.jsdelivr.net/gh/devicons/devicon@latest/icons/vim/vim-original.svg"
                alt="Vim"
                title="Vim Mode"
                width="20"
                height="20"
                style="
                  margin-right: 4px;
                  transition: transform 0.3s, opacity 0.3s;
                  flex-shrink: 0;
                "
                onmouseover="this.style.opacity='0.9'; this.style.transform='scale(1.1)'"
                onmouseout="this.style.opacity='1'; this.style.transform='scale(1)'"
              />
            </a>
            <label class="toggle-switch">
              <input type="checkbox" id="vimMode" />
              <span class="slider"></span>
            </label>
          </div>
          <a href="https://github.com/Pp3ng/CinCout" target="_blank">
            <img
              src="https://github.com/fluidicon.png"
              alt="GitHub"
              style="
                width: 26px;
                height: 26px;
                transition: transform 0.3s, opacity 0.3s;
                flex-shrink: 0;
                border-radius: 50%;
                box-shadow: var(--shadow-sm);
              "
              onmouseover="this.style.opacity='0.9'; this.style.transform='scale(1.1)'"
              onmouseout="this.style.opacity='1'; this.style.transform='scale(1)'"
            />
          </a>
        </div>
      </div>

      <!-- New layout: start with full-screen editor -->
      <div class="main-container">
        <!-- Editor panel (full-screen initially) -->
        <div class="panel editor-panel">
          <div class="panel-header">
            <div class="button-container">
              <button id="lintCode" class="action-btn">
                <i class="fas fa-check"></i> Lint Code
              </button>
              <button id="format" class="action-btn">
                <i class="fas fa-align-left"></i> Format
              </button>
              <button id="compile" class="action-btn">
                <i class="fas fa-play"></i> Compile & Run
              </button>
              <button id="debug" class="action-btn">
                <i class="fas fa-bug"></i> Debug
              </button>
              <button id="viewAssembly" class="action-btn">
                <i class="fas fa-cogs"></i> View Assembly
              </button>
              <button id="memcheck" class="action-btn">
                <i class="fas fa-memory"></i> Detect Leaks
              </button>
            </div>
            <div class="button-container right-aligned">
              <button id="codeSnap" class="action-btn">
                <i class="fas fa-camera"></i> Code Snap
              </button>
              <button id="zenMode" class="action-btn">
                <i class="fas fa-expand"></i> Zen Mode
              </button>
            </div>
          </div>
          <textarea id="code"></textarea>
          <div id="vim-status" class="vim-status"></div>
        </div>

        <!-- Output panel (hidden initially) -->
        <div class="panel output-panel" id="outputPanel" style="display: none">
          <div class="panel-header">
            <div class="button-container">
              <button id="closeOutput" class="action-btn">
                <i class="fas fa-times"></i> Close
              </button>
            </div>
          </div>
          <div id="output"></div>
        </div>
      </div>
    </div>

    <!-- Main JS entry point - Vite will bundle all dependencies -->
    <script type="module" src="./ts/index.ts"></script>
  </body>
</html>
