<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>CinCout</title>
    <!-- Google Fonts -->
    <link
      href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;700&family=Fira+Code:wght@400;700&display=swap"
      rel="stylesheet"
    />

    <!-- Font Awesome -->
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
      rel="stylesheet"
    />

    <!-- Favicon -->
    <link rel="icon" type="image/png" href="./assets/cincout.png" />

    <!-- Devicons -->
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/gh/devicons/devicon@v2.14.0/devicon.min.css"
    />
  </head>

  <body>
    <div class="container">
      <div class="header">
        <div>
          <h1 id="title-easter-egg">
            <i class="devicon-c-plain"></i>
            <i class="devicon-cplusplus-plain"></i> CinCout
          </h1>

          <div class="dropdown" id="learn-dropdown">
            <button id="learn-cpp-btn" class="header-btn dropdown-btn">
              <i class="fas fa-book"></i> Learn
              <i class="fas fa-chevron-down"></i>
            </button>
            <div class="dropdown-content" id="learn-dropdown-content">
              <a
                href="https://www.gnu.org/software/gnu-c-manual/gnu-c-manual.html"
                target="_blank"
              >
                <i class="fas fa-file-alt resource-icon"></i> GNU C Manual
              </a>
              <a
                href="https://sourceware.org/gdb/documentation/"
                target="_blank"
              >
                <i class="fas fa-bug resource-icon"></i> GDB Documentation
              </a>
              <a
                href="https://github.com/Pp3ng/My-bookshelf/raw/main/The%20C++%20Programming%20Language-4th.pdf"
                target="_blank"
              >
                <i class="fas fa-book-open resource-icon"></i> The C++
                Programming Language
              </a>
              <a href="https://en.cppreference.com/w/" target="_blank">
                <i class="fas fa-code resource-icon"></i> Cpp Reference
              </a>
              <a href="https://hackingcpp.com/" target="_blank">
                <i class="fas fa-laptop-code resource-icon"></i> Hacking Cpp
              </a>
            </div>
          </div>
          <div id="shortcuts-panel" class="shortcuts-panel dropdown">
            <button id="toggle-shortcuts" class="header-btn dropdown-btn">
              <i class="fas fa-keyboard"></i> Shortcuts
              <i class="fas fa-chevron-down"></i>
            </button>
            <div
              class="shortcuts-content dropdown-content"
              id="shortcuts-content"
            >
              <!-- Shortcuts will be dynamically generated by JavaScript -->
            </div>
          </div>
        </div>
        <div
          class="flex gap-[var(--spacing-sm)] items-center h-auto flex-wrap min-w-0"
        >
          <select id="language">
            <option value="c">C</option>
            <option value="cpp">C++</option>
          </select>
          <select id="compiler">
            <option value="gcc">GCC</option>
            <option value="clang">Clang</option>
          </select>

          <select id="optimization">
            <option value="-O0">-O0 (No optimization)</option>
            <option value="-O1">-O1 (Basic optimization)</option>
            <option value="-O2">-O2 (Moderate optimization)</option>
            <option value="-O3">-O3 (Maximum optimization)</option>
            <option value="-Os">-Os (Size optimization)</option>
          </select>

          <select id="template"></select>
          <select id="theme-select">
            <!-- Theme options will be dynamically generated by script -->
          </select>
          <div
            class="flex items-center px-2 py-1 bg-[var(--bg-secondary)] rounded-[var(--radius-sm)] border border-[var(--border)] transition-all duration-300 shadow-[var(--shadow-sm)] gap-2 h-[var(--btn-height)] shrink-0"
          >
            <div class="flex items-center gap-1">
              <a href="https://www.vim.org" target="_blank" class="flex">
                <img
                  src="https://cdn.jsdelivr.net/gh/devicons/devicon@latest/icons/vim/vim-original.svg"
                  class="block w-[18px] h-[18px] transition-all duration-300 flex-shrink-0 hover:opacity-90 hover:scale-110"
                />
              </a>
            </div>
            <label class="relative inline-block w-[34px] h-[18px]">
              <input
                type="checkbox"
                id="vimMode"
                class="peer opacity-0 w-0 h-0"
              />
              <span
                class="absolute cursor-pointer inset-0 bg-[var(--bg-primary)] rounded-[var(--radius-md)] border border-[var(--border)] transition-all duration-300 ease-[cubic-bezier(0.175,0.885,0.32,1.275)] before:absolute before:content-[''] before:h-[12px] before:w-[12px] before:left-[2px] before:bottom-[2px] before:bg-[var(--text-primary)] before:rounded-full before:transition-all before:duration-300 before:ease-[cubic-bezier(0.175,0.885,0.32,1.275)] before:shadow-[0_1px_2px_rgba(0,0,0,0.3)] peer-checked:bg-[var(--accent)] peer-checked:shadow-[var(--shadow-accent-sm),inset_0_0_4px_rgba(0,0,0,0.2)] peer-checked:before:translate-x-[16px] peer-checked:before:shadow-[var(--shadow-sm)] peer-checked:before:bg-white"
              ></span>
            </label>
          </div>

          <a href="https://github.com/Pp3ng/CinCout" target="_blank">
            <img
              src="https://github.com/fluidicon.png"
              class="block w-[26px] h-[26px] transition-all duration-300 flex-shrink-0 rounded-full shadow-[var(--shadow-sm)] hover:opacity-90 hover:scale-110"
            />
          </a>
        </div>
      </div>

      <!-- New layout: start with full-screen editor -->
      <div class="main-container">
        <!-- Editor panel (full-screen initially) -->
        <div class="panel editor-panel">
          <div class="panel-header">
            <div class="button-container">
              <button id="lintCode">
                <i class="fas fa-check"></i> Lint Code
              </button>
              <button id="format">
                <i class="fas fa-align-left"></i> Format
              </button>
              <button id="compile">
                <i class="fas fa-play"></i> Compile & Run
              </button>
              <button id="debug"><i class="fas fa-bug"></i> Debug</button>
              <button id="viewAssembly">
                <i class="fas fa-cogs"></i> Assembly
              </button>
              <button id="memcheck">
                <i class="fas fa-memory"></i> Detect Leaks
              </button>
              <button id="syscall">
                <i class="fas fa-exchange-alt"></i> Syscalls
              </button>
            </div>
            <div class="button-container right-aligned">
              <button id="codeSnap">
                <i class="fas fa-camera"></i> Code Snap
              </button>
              <button id="zenMode">
                <i class="fas fa-expand"></i> Zen Mode
              </button>
            </div>
          </div>
          <textarea id="code"></textarea>
          <div
            id="vim-status"
            class="absolute left-0 bottom-0 px-2.5 py-1 bg-[var(--bg-secondary)] text-[var(--accent)] hover:text-[var(--accent-hover)] font-mono text-xs font-bold rounded-none rounded-tr-[var(--radius-sm)] opacity-100 z-100 hidden transition-all duration-[var(--transition-normal)] tracking-wider shadow-[0_-1px_3px_rgba(0,0,0,0.1)]"
          ></div>
        </div>

        <!-- Output panel (hidden initially) -->
        <div class="panel output-panel" id="outputPanel" style="display: none">
          <div class="panel-header">
            <div class="button-container">
              <button id="closeOutput">
                <i class="fas fa-times"></i> Close
              </button>
            </div>
          </div>
          <div id="output"></div>
        </div>
      </div>
    </div>

    <!-- Main JS entry point - Vite will bundle all dependencies -->
    <script type="module" src="./ts/index.ts"></script>
  </body>
</html>
